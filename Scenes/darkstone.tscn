[gd_scene load_steps=7 format=3 uid="uid://df6nq0pn78vr6"]

[ext_resource type="Script" path="res://Scripts/ServerInfo.gd" id="1_u7k0x"]
[ext_resource type="PackedScene" uid="uid://bsm4ei3hf1xeb" path="res://Components/GUI/lobby.tscn" id="3_ohlbw"]
[ext_resource type="PackedScene" uid="uid://civxfssd814bg" path="res://Components/GUI/game_control.tscn" id="4_xvxp1"]
[ext_resource type="PackedScene" uid="uid://bfrxxnt1w0nv0" path="res://Components/GUI/saylog.tscn" id="4_yis7i"]
[ext_resource type="PackedScene" uid="uid://0uy8dkfg2ftu" path="res://Components/GUI/configuration_menu.tscn" id="5_vs0bm"]

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_x4gwi"]
properties/0/path = NodePath(".:online_players")
properties/0/spawn = true
properties/0/replication_mode = 2
properties/1/path = NodePath(".:ready_players")
properties/1/spawn = true
properties/1/replication_mode = 2
properties/2/path = NodePath(".:host")
properties/2/spawn = true
properties/2/replication_mode = 2
properties/3/path = NodePath(".:game_countdown")
properties/3/spawn = true
properties/3/replication_mode = 2
properties/4/path = NodePath(".:is_game_started")
properties/4/spawn = true
properties/4/replication_mode = 2
properties/5/path = NodePath(".:time_left")
properties/5/spawn = true
properties/5/replication_mode = 2

[node name="World" type="Node2D"]

[node name="ServerInfo" type="Node" parent="."]
script = ExtResource("1_u7k0x")

[node name="Timer" type="Timer" parent="ServerInfo"]

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="ServerInfo"]
replication_config = SubResource("SceneReplicationConfig_x4gwi")

[node name="Network" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Ground" type="Node2D" parent="."]

[node name="Light" type="Node2D" parent="."]

[node name="CanvasModulate" type="CanvasModulate" parent="Light"]
color = Color(0.341176, 0.341176, 0.341176, 1)

[node name="Map" type="Node2D" parent="."]

[node name="GUI" type="CanvasLayer" parent="."]

[node name="GameControl" parent="GUI" instance=ExtResource("4_xvxp1")]
visible = false

[node name="ConfigurationMenu" parent="GUI" instance=ExtResource("5_vs0bm")]
visible = false

[node name="Lobby" parent="GUI" instance=ExtResource("3_ohlbw")]
visible = false

[node name="Saylog" parent="GUI" instance=ExtResource("4_yis7i")]
visible = false

[node name="EntitySpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://Components/Body/human_body.tscn", "res://Components/item.tscn", "res://Components/ghost.tscn", "res://Components/player.tscn")
spawn_path = NodePath("../Network")

[node name="MapSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://Maps/test.tscn")
spawn_path = NodePath("../Network")
